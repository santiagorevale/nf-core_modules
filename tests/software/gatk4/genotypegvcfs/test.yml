# We run all tests using `should_exist` because the GATK adds the 
# command to the VCF output file.

- name: gatk4 genotypegvcfs vcf input
  command: nextflow run ./tests/software/gatk4/genotypegvcfs -entry test_gatk4_genotypegvcfs_vcf_input -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4_genotypegvcfs
    - gatk4_genotypegvcfs_vcf_input
  files:
    - path: output/gatk4/test.genotyped.vcf.gz
      should_exist: true

- name: gatk4 genotypegvcfs gz input
  command: nextflow run ./tests/software/gatk4/genotypegvcfs -entry test_gatk4_genotypegvcfs_gz_input -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4_genotypegvcfs
    - gatk4_genotypegvcfs_gz_input
  files:
    - path: output/gatk4/test.genotyped.vcf.gz
      should_exist: true

- name: gatk4 genotypegvcfs vcf input dbsnp
  command: nextflow run ./tests/software/gatk4/genotypegvcfs -entry test_gatk4_genotypegvcfs_vcf_input_dbsnp -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4_genotypegvcfs
    - gatk4_genotypegvcfs_vcf_input_dbsnp
  files:
    - path: output/gatk4/test.genotyped.vcf.gz
      should_exist: true

- name: gatk4 genotypegvcfs vcf input intervals
  command: nextflow run ./tests/software/gatk4/genotypegvcfs -entry test_gatk4_genotypegvcfs_vcf_input_intervals -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4_genotypegvcfs
    - gatk4_genotypegvcfs_vcf_input_intervals
  files:
    - path: output/gatk4/test.genotyped.vcf.gz
      should_exist: true

- name: gatk4 genotypegvcfs vcf input dbsnp intervals
  command: nextflow run ./tests/software/gatk4/genotypegvcfs -entry test_gatk4_genotypegvcfs_vcf_input_dbsnp_intervals -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4_genotypegvcfs
    - gatk4_genotypegvcfs_vcf_input_dbsnp_intervals
  files:
    - path: output/gatk4/test.genotyped.vcf.gz
      should_exist: true
